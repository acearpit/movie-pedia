(this["webpackJsonpmovie-pedia"]=this["webpackJsonpmovie-pedia"]||[]).push([[0],{143:function(e,t,a){},154:function(e,t,a){},192:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},218:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},242:function(e,t,a){"use strict";a.r(t);a(143),a(144),a(145),a(146);var n,r,c=a(1),s=a(27),i=a.n(s),o=a(17),l=a(10),d=a(12),u=a(9),j=(a(154),a(40)),b="SET_STATE_VARIABLE",h="GET_CURRENT_SEARCH_DATA",p="SET_CURRENT_SEARCH_DATA",m="GET_CURRENT_MOVIE_DATA",O="SET_CURRENT_MOVIE_DATA",x="GET_MOVIES",f="SET_MOVIES",g="AUTHORISE_USER",v="LOGOUT",_="SET_CURRENT_USER_DATA",N="UPDATE_USER",w="DELETE_USER",k="ADD_TO_WATCHLIST",L="REMOVE_FROM_WATCHLIST",y=function(){return{type:v}},S=function(e){return{type:_,data:e}},E=function(e,t){return{type:L,token:e,id:t}},C=function(e,t){return{type:b,svType:e,val:t}},T=a(2),R=Object(o.b)((function(e){return{isLoggedIn:!!e.auth.token,user:e.auth}}),(function(e){return{signout:function(){return e(y())},setStateVar:function(t,a){return e(C(t,a))}}}))((function(e){var t=e.handleSearch,a=e.isLoggedIn,n=e.user,r=e.signout,s=e.setStateVar,i=Object(c.useState)(!1),o=Object(u.a)(i,2),d=o[0],b=o[1],h=Object(c.useState)(!1),p=Object(u.a)(h,2),m=p[0],O=p[1];return Object(T.jsxs)("div",{className:"navbar",children:[Object(T.jsx)("div",{className:"mobile_menu ".concat(m&&"animate"),children:m&&(a?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("span",{children:["Hi, ",n.first_name," ",n.last_name]}),Object(T.jsx)("span",{className:"divider"}),Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/",onClick:function(){return O(!1)},children:"Home"})}),Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/profile",onClick:function(){return O(!1)},children:"My Profile"})}),Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/watchlist",onClick:function(){return O(!1)},children:"My Watchlist"})}),Object(T.jsx)("span",{className:"divider"}),Object(T.jsx)("span",{onClick:function(e){e.preventDefault(),s("authSuccess",!1),O(!1),r()},children:"Signout"})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/",className:"menu_signin",onClick:function(){return O(!1)},children:"Home"})}),Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/auth",className:"menu_signin",onClick:function(){return O(!1)},children:"Signin"})})]}))}),Object(T.jsxs)("div",{className:"nav_left",children:[Object(T.jsx)(l.b,{to:"/",children:Object(T.jsx)("img",{src:"https://pngimage.net/wp-content/uploads/2018/06/mp-png-5.png"})}),Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 hamburger",fill:"none",viewBox:"0 0 24 24",stroke:"black",onClick:function(e){e.preventDefault(),O(!m)},children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),Object(T.jsx)("div",{className:"nav_center",children:Object(T.jsx)("input",{type:"text",placeholder:"Search movies...",className:"input",id:"searchBar",onChange:t})}),Object(T.jsx)("div",{className:"nav_right",children:a?Object(T.jsxs)("div",{className:"user_data",onClick:function(e){e.preventDefault(),b(!d)},children:[Object(T.jsx)(j.a,{color:j.a.getRandomColor("sitebase",["red","green","blue","violet"]),name:"".concat(n.first_name," ").concat(n.last_name),size:"35",className:"user_avatar",src:n.profile_pic}),Object(T.jsxs)("span",{children:[n.first_name,Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"15px",width:"15px",marginLeft:"5px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),d?Object(T.jsxs)("div",{className:"user_dropdown",children:[Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/profile",children:"My Profile"})}),Object(T.jsx)("span",{children:Object(T.jsx)(l.b,{to:"/watchlist",children:"My Watchlist"})}),Object(T.jsx)("span",{className:"divider"}),Object(T.jsx)("span",{onClick:function(e){e.preventDefault(),s("authSuccess",!1),b(!1),r()},children:"Signout"})]}):null]}):Object(T.jsx)(l.b,{to:"/auth",className:"login",children:"Signin"})})]})})),D=a(61),M=a(38),A=a(131),V=a.n(A),P=Object(M.css)(n||(n=Object(D.a)(["\n  top: 35vh;\n  margin: auto auto;\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]))),U=function(e){var t=e.size,a=e.color,n=e.loading;return Object(T.jsx)(V.a,{css:P,size:t,color:a,loading:n})},z=a(132),I=a.n(z),F=(Object(M.css)(r||(r=Object(D.a)(["\n  top: 35vh;\n  margin: auto auto;\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]))),function(e){var t=e.size,a=e.color,n=e.loading;return Object(T.jsx)(I.a,{size:t,color:a,loading:n})}),W=(a(192),Object(o.b)((function(e){return{loading:e.stateVariables.authLoading,error:e.stateVariables.authError,success:e.stateVariables.authSuccess,user:e.auth}}),(function(e){return{authorise:function(t,a){return e(function(e,t){return{type:g,isLogin:e,data:t}}(t,a))},setStateVar:function(t,a){return e(C(t,a))}}}))((function(e){var t=e.loading,a=e.error,n=e.success,r=e.user,s=e.authorise,i=e.setStateVar,o=Object(c.useState)(!0),l=Object(u.a)(o,2),j=l[0],b=l[1],h=Object(c.useState)(""),p=Object(u.a)(h,2),m=p[0],O=p[1],x=Object(c.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],_=Object(c.useState)(""),N=Object(u.a)(_,2),w=N[0],k=N[1],L=Object(c.useState)(""),y=Object(u.a)(L,2),S=y[0],E=y[1],C=Object(c.useState)(""),R=Object(u.a)(C,2),D=R[0],M=R[1],A=Object(c.useState)(""),V=Object(u.a)(A,2),P=V[0],U=V[1],z=Object(c.useState)(""),I=Object(u.a)(z,2),W=I[0],B=I[1],H=Object(c.useState)(""),G=Object(u.a)(H,2),Q=G[0],q=G[1],J=Object(c.useState)(""),X=Object(u.a)(J,2),Z=X[0],$=X[1],Y=Object(c.useState)(""),K=Object(u.a)(Y,2),ee=K[0],te=K[1],ae=function(e){ne();var t=e.target.name,a=e.target.value;"first_name"===t?O(a):"last_name"===t?k(a):"email"===t?M(a):"password"===t?B(a):$(a)};var ne=function(){v(""),E(""),U(""),q(""),te(""),i("authError",!1),i("authLoading",!1)},re=Object(d.g)();return Object(c.useEffect)((function(){n&&r.token&&re.goBack()}),[n,a,t,r]),Object(T.jsx)("div",{className:"auth_bg",children:Object(T.jsxs)("div",{className:"auth_middle_cntnr",children:[Object(T.jsx)("p",{className:"auth_type_heading",children:j?"Signin":"Create an account"}),Object(T.jsx)("div",{className:"switch",onClick:function(e){e.preventDefault(),ne(),b(!j)},children:j?Object(T.jsxs)("span",{children:["Don't have an account? ",Object(T.jsx)("span",{children:"Signup"})]}):Object(T.jsxs)("span",{children:["Already have an account? ",Object(T.jsx)("span",{className:"",children:"Login"})]})}),a&&Object(T.jsx)("p",{className:"auth_error",children:a}),!j&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"auth_field",children:[Object(T.jsx)("input",{type:"text",name:"first_name",value:m,placeholder:"First Name",className:g?"error_border":"",onChange:ae}),g&&Object(T.jsx)("p",{className:"error",children:g})]}),Object(T.jsxs)("div",{className:"auth_field",children:[Object(T.jsx)("input",{type:"text",name:"last_name",placeholder:"Last Name",value:w,className:S?"error_border":"",onChange:ae}),S&&Object(T.jsx)("p",{className:"error",children:S})]})]}),Object(T.jsxs)("div",{className:"auth_field",children:[Object(T.jsx)("input",{placeholder:"Email",type:"email",name:"email",value:D,className:P?"error_border":"",onChange:ae}),P&&Object(T.jsx)("p",{className:"error",children:P})]}),Object(T.jsxs)("div",{className:"auth_field",children:[Object(T.jsx)("input",{placeholder:"Password",type:"password",name:"password",value:W,className:Q?"error_border":"",onChange:ae}),Q&&Object(T.jsx)("p",{className:"error",children:Q})]}),!j&&Object(T.jsxs)("div",{className:"auth_field",children:[Object(T.jsx)("input",{placeholder:"Confirm Password",type:"password",name:"confirm_pass",className:ee?"error_border":"",value:Z,onChange:ae}),ee&&Object(T.jsx)("p",{className:"error",children:ee})]}),Object(T.jsx)("button",{className:"signup",onClick:function(e){if(e.preventDefault(),!t){if(i("authError",""),!function(){var e="This field is required!";if(!j){if(!m)return v(e),!1;if(!w)return E(e),!1}if(!D)return U(e),!1;if(!function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(D))return U("Please enter a valid email!"),!1;if(!W)return q(e),!1;if(!j){if(!Z)return te(e),!1;if(W!==Z)return te("The passwords do not match"),!1}return!0}())return;s(j,j?{email:D,password:W}:{first_name:m,last_name:w,email:D,password:W})}},children:t?Object(T.jsx)(F,{size:25,color:"white",loading:t}):j?"Login":"Signup"})]})})}))),B=a(78),H=function(){return Object(T.jsx)(B.d,{color:"#daa520",className:"font-small darken-3 pt-0",children:Object(T.jsx)("div",{className:"footer-copyright text-center py-3",children:Object(T.jsxs)(B.c,{fluid:!0,children:["Copyright \xa9 ",(new Date).getFullYear()+" ",Object(T.jsx)("a",{href:"https://www.MDBootstrap.com",children:" Arpit Gupta "}),". All Rights Reserved"]})})})},G=(a(211),function(){return Object(T.jsxs)("div",{className:"not_found",children:[Object(T.jsx)("h1",{children:"Error 404"}),Object(T.jsx)("h3",{children:"The page you were looking for could not be found!"}),Object(T.jsx)("h3",{children:"Please check the url and try again!"})]})}),Q=(a(212),a(247)),q=a(248),J=a(249),X=function(e){return e.children},Z=function(e,t){return{type:h,searchQuery:e,pageNum:t}},$=function(e){return{type:p,data:e}},Y=Object(o.b)((function(e){return{state:{isLoading:e.stateVariables.searchLoading,search:e.currentSearch}}}),(function(e){return{handleLiveSearch:function(t,a){return e(Z(t,a))}}}))(Object(d.h)((function(e){var t=e.state,a=e.handleLiveSearch,n=Object(c.useState)(!0),r=Object(u.a)(n,2),s=r[0],i=r[1],o=function(){a(t.search.curr_search,t.search.curr_page-1)},d=function(){a(t.search.curr_search,t.search.curr_page+1)};return Object(c.useEffect)((function(){t.isLoading||i(!1)}),[t.isLoading]),s?Object(T.jsx)(U,{color:"#daa520",loading:s,size:100}):function(e){var a=null;return t.search.totPages>1&&(a=1===t.search.curr_page?Object(T.jsx)("button",{type:"submit",className:"next",onClick:d,children:"NEXT"}):t.search.curr_page===t.search.totPages?Object(T.jsx)("button",{type:"submit",className:"prev",onClick:o,children:"PREV"}):Object(T.jsxs)(X,{children:[Object(T.jsx)("button",{type:"submit",className:"prev",onClick:o,children:"PREV"}),Object(T.jsx)("button",{type:"submit",className:"next",onClick:d,children:"NEXT"})]})),Object(T.jsxs)(Q.a,{className:"resultsContainer",children:[Object(T.jsx)(q.a,{className:"next_prev",children:a}),Object(T.jsx)(q.a,{className:"ROW",children:e.movies.map((function(e){var t;return t=e.poster_path?"https://image.tmdb.org/t/p/original/".concat(e.poster_path):"https://www.warnersstellian.com/Content/images/product_image_not_available.png",Object(T.jsx)(J.a,{md:"3.5",className:"movie",children:Object(T.jsxs)("div",{className:"img_container",children:[Object(T.jsx)("img",{src:t,alt:e.original_title,className:"image"}),Object(T.jsx)("button",{type:"submit",className:"more_details",children:Object(T.jsx)(l.b,{to:"/movie/".concat(e.id),style:{textDecoration:"none",color:"black"},children:"More Details"})})]})},e.id)}))}),Object(T.jsx)(q.a,{className:"next_prev",children:a})]})}(t.search)}))),K=(a(213),a(214),function(e){var t=e.movies;return Object(T.jsxs)("div",{id:"banner",className:"carousel slide carousel-fade","data-bs-ride":"carousel",children:[Object(T.jsx)("div",{className:"carousel-inner",children:t.map((function(e,t){return Object(T.jsxs)("div",{className:0===t?"carousel-item active":"carousel-item",children:[Object(T.jsx)("div",{className:"IMAGE_CONTAINER",style:{background:"url(https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"brightness(0.35)"}}),Object(T.jsxs)("div",{className:"carousel-caption d-block",children:[Object(T.jsx)("h5",{className:"caption",children:e.original_title}),Object(T.jsx)(l.b,{to:"/movie/".concat(e.id),style:{textDecoration:"none"},children:Object(T.jsx)("button",{className:"btn btn-md more_INFO",children:"MORE INFO"})})]})]},e.id)}))}),Object(T.jsxs)("a",{className:"carousel-control-prev",href:"#banner",role:"button","data-bs-slide":"prev",children:[Object(T.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(T.jsx)("span",{className:"visually-hidden"})]}),Object(T.jsxs)("a",{className:"carousel-control-next",href:"#banner",role:"button","data-bs-slide":"next",children:[Object(T.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(T.jsx)("span",{className:"visually-hidden"})]})]})}),ee=(a(215),function(e){var t=e.type,a=e.movies;return Object(T.jsxs)(X,{children:[Object(T.jsx)("h1",{className:"movie_type text-left pl-2",children:t}),Object(T.jsx)("div",{className:"container-fluid rows",children:a.map((function(e){return Object(T.jsxs)("div",{className:"row_movie",children:[Object(T.jsx)("div",{className:"image_cont",children:Object(T.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.poster_path),className:"row_IMG"})}),Object(T.jsx)("div",{className:"more_info",children:Object(T.jsx)(l.b,{to:"/movie/".concat(e.id),children:Object(T.jsx)("button",{className:"more_details",children:"More Details"})})})]},e.id)}))})]})}),te=Object(o.b)((function(e){return{data:e.homepage}}))((function(e){var t=e.data;return Object(T.jsxs)("div",{className:"Home",children:[Object(T.jsx)(K,{movies:t.banner}),Object(T.jsx)(ee,{movies:t.nowPlaying,type:"Now Playing"}),Object(T.jsx)(ee,{movies:t.trending,type:"Trending"}),Object(T.jsx)(ee,{movies:t.topRated,type:"Top Rated"}),Object(T.jsx)(ee,{movies:t.upcoming,type:"Upcoming"})]})})),ae=(a(216),function(e){return{type:O,data:e}}),ne=Object(o.b)((function(e){return{state:{isLoading:e.stateVariables.movieLoading,isAddedLoading:e.stateVariables.addToWatchlistLoading,movie_data:e.movieData.movieData,searchQuery:e.currentSearch.curr_search,user:e.auth}}}),(function(e){return{getCurrentMovie:function(t){return e(function(e){return{type:m,id:e}}(t))},addMovie:function(t,a){return e(function(e,t){return{type:k,token:e,data:t}}(t,a))},deleteMovie:function(t,a){return e(E(t,a))}}}))(Object(d.h)((function(e){var t=e.match,a=e.state,n=e.getCurrentMovie,r=e.addMovie,s=e.deleteMovie;Object(c.useEffect)((function(){n(+t.params.id)}),[]);var i=Object(c.useState)(!1),o=Object(u.a)(i,2),l=o[0],j=o[1];Object(c.useEffect)((function(){if(a.user.watchlist){var e=a.user.watchlist.findIndex((function(e){return e.id===+t.params.id}));j(-1!==e)}}),[a.user.watchlist]);var b=function(e){return e.map((function(e){return e.name})).join(", ")},h=function(e){for(var t=e.toString(),a="",n=t.length;n>3;){n-=3,a=","+t.substr(n,3)+a}return a=t.substr(0,n)+a},p=Object(d.g)(),m=null,O=null,x=null;return a.movie_data&&(x=(O=a.movie_data).tagline?O.tagline:"No wind favors s/he who has no destined port...",m="https://image.tmdb.org/t/p/w500/".concat(O.poster_path)),!a.movie_data||a.movie_data&&a.movie_data.id!==+t.params.id?Object(T.jsx)(U,{color:"#daa520",loading:a.loading,size:100}):Object(T.jsx)("div",{className:"container Movie",children:Object(T.jsxs)("div",{className:"row main_row",children:[Object(T.jsx)("div",{className:"col-xs-12 col-md-4 image_container",style:{background:"url(".concat(m,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"500px"}}),Object(T.jsxs)("div",{className:"col-xs-12 col-md-8 movie_data_container",children:[Object(T.jsx)("h1",{className:"title",children:O.original_title}),a.user&&a.user.token?l?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("button",{className:"watchlist red",onClick:function(e){e.preventDefault(),s(a.user.token,+t.params.id)},children:a.isAddedLoading?Object(T.jsx)(F,{size:25,color:"white",loading:!0}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"plus_symbol",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Remove from watchlist"]})}),Object(T.jsxs)("button",{className:"watchlist green",onClick:function(e){e.preventDefault(),p.push("/watchlist")},children:[Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"plus_symbol",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"View watchlist"]})]}):Object(T.jsx)("button",{className:"watchlist green",onClick:function(e){e.preventDefault(),r(a.user.token,a.movie_data)},children:a.isAddedLoading?Object(T.jsx)(F,{size:25,color:"white",loading:!0}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"plus_symbol",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add to watchlist"]})}):Object(T.jsxs)("button",{className:"watchlist green",onClick:function(e){e.preventDefault(),p.push("/auth")},children:[Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"plus_symbol",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add to watchlist"]}),Object(T.jsx)("h5",{className:"tagline",children:x}),Object(T.jsx)("p",{className:"overview",children:O.overview}),Object(T.jsx)("h5",{className:"genres_title",children:" GENRES: "}),Object(T.jsxs)("h5",{className:"genres",children:[" ",b(O.genres)," "]}),Object(T.jsx)("h5",{className:"prod_companies_title",children:"PRODUCTION COMPANIES:"}),Object(T.jsx)("h5",{className:"prod_companies",children:b(O.production_companies)}),Object(T.jsxs)("div",{className:"container fluid m-0 p-0 mini_cont",children:[Object(T.jsxs)("div",{className:"row mini_cont_row",children:[Object(T.jsxs)("div",{className:"col col-xs-6",children:[Object(T.jsx)("h5",{className:"genres_title",children:" RELEASE DATE: "}),Object(T.jsx)("h5",{className:"genres",children:O.release_date})]}),Object(T.jsxs)("div",{className:"col col-xs-6",children:[Object(T.jsx)("h5",{className:"genres_title",children:" REVENUE: "}),Object(T.jsxs)("h5",{className:"genres",children:["$",0!==O.revenue?h(O.revenue):1e6]})]})]}),Object(T.jsxs)("div",{className:"row mini_cont_row",children:[Object(T.jsxs)("div",{className:"col col-xs-6",children:[Object(T.jsx)("h5",{className:"genres_title",children:" RUNNING TIME: "}),Object(T.jsxs)("h5",{className:"genres",children:[O.runtime," MINS"]})]}),Object(T.jsxs)("div",{className:"col col-xs-6",children:[Object(T.jsx)("h5",{className:"genres_title",children:" IMDB RATING: "}),Object(T.jsxs)("h5",{className:"genres",children:[O.vote_average,"/10 ",Object(T.jsxs)("span",{className:"vote_cnt",children:["(",h(O.vote_count),")"]})]})]})]})]})]})]})})}))),re=a(15),ce=a.n(re),se=a(137),ie=(a(218),Object(o.b)((function(e){return{user:e.auth,updateSuccess:e.stateVariables.updateSuccess,updateLoading:e.stateVariables.updateLoading,updateError:e.stateVariables.updateError,deleteSuccess:e.stateVariables.deleteSuccess,deleteLoading:e.stateVariables.deleteLoading,deleteError:e.stateVariables.deleteError}}),(function(e){return{updateUser:function(t,a){return e(function(e,t){return{type:N,token:e,data:t}}(t,a))},deleteUserFromDB:function(t){return e(function(e){return{type:w,token:e}}(t))},setStateVar:function(t,a){return e(C(t,a))}}}))((function(e){var t=e.user,a=e.setStateVar,n=e.updateUser,r=e.updateSuccess,s=e.updateLoading,i=e.updateError,o=e.deleteUserFromDB,l=e.deleteLoading,b=e.deleteError,h=(e.deleteSuccess,Object(c.useState)(!1)),p=Object(u.a)(h,2),m=p[0],O=p[1],x=Object(c.useRef)(null),f=Object(c.useState)({link:"",file:null}),g=Object(u.a)(f,2),v=g[0],_=g[1],N=Object(c.useState)(""),w=Object(u.a)(N,2),k=w[0],L=w[1],y=Object(c.useState)(""),S=Object(u.a)(y,2),E=S[0],C=S[1],R=Object(c.useState)(""),D=Object(u.a)(R,2),M=D[0],A=D[1],V=Object(c.useState)(""),P=Object(u.a)(V,2),U=P[0],z=P[1],I=Object(c.useState)(""),W=Object(u.a)(I,2),B=W[0],H=W[1],G=Object(c.useState)(""),Q=Object(u.a)(G,2),q=Q[0],J=Q[1],X=Object(c.useState)(""),Z=Object(u.a)(X,2),$=Z[0],Y=Z[1],K=Object(c.useState)(""),ee=Object(u.a)(K,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(""),re=Object(u.a)(ne,2),ie=re[0],oe=re[1],le=Object(d.g)();Object(c.useEffect)((function(){de()}),[]),Object(c.useEffect)((function(){t.token||le.goBack(),t&&(_({link:"",file:null}),L(""),C(t.first_name),A(""),z(t.last_name),H(""),J(""),Y(""),ae(""),oe(""),r&&O(!1))}),[t,r]);var de=function(){a("updateError",""),a("deleteError",""),L(""),A(""),H(""),Y(""),oe("")},ue=function(e){e.preventDefault(),de();var t=e.target.name,a=e.target.value;"firstName"===t?C(a):"lastName"===t?z(a):"newPassword"===t?J(a):ae(a)},je=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))},be=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target.files)||!a[0]){e.next=19;break}if(!((n=a[0]).size>5242880)){e.next=6;break}return _({link:"",file:null}),e.abrupt("return",L("File size should not exceed 5mb!"));case 6:if(-1!==["image/png","image/jpeg","image/jpg","image/gif"].indexOf(n.type)){e.next=10;break}return _({link:"",file:null}),e.abrupt("return",L("The allowed file types are .png, .jpg, .jpeg, .gif"));case 10:return e.t0=_,e.next=13,je(n);case 13:e.t1=e.sent,e.t2=n,e.t3={link:e.t1,file:e.t2},(0,e.t0)(e.t3),e.next=20;break;case 19:_({link:"",file:null});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:"profile_main_container",children:Object(T.jsxs)("div",{children:[i&&Object(T.jsx)("p",{className:"actionsError",children:i}),b&&Object(T.jsx)("p",{className:"actionsError",children:b}),Object(T.jsxs)("div",{className:"avatar",children:[Object(T.jsx)(j.a,{color:j.a.getRandomColor("sitebase",["red","green","blue","violet"]),name:"".concat(E," ").concat(U),size:"130",round:!0,className:"user_avatar_profile",src:v.link?v.link:t.profile_pic}),k&&Object(T.jsx)("p",{className:"errorText",children:k}),m?v.link?Object(T.jsxs)("div",{className:"selected_image",children:[Object(T.jsx)("span",{className:"btn remove_image",onClick:function(e){e.preventDefault(),_({link:"",file:null}),L("")},children:"Remove"}),Object(T.jsx)("span",{className:"btn upload_image",onClick:function(e){e.preventDefault(),L(""),x.current.click()},children:"Update"})]}):Object(T.jsx)("div",{className:"selected_image",children:Object(T.jsx)("span",{className:"btn upload_image",onClick:function(e){e.preventDefault(),L(""),x.current.click()},children:"Upload new image"})}):null,Object(T.jsx)("input",{ref:x,type:"file",name:"image_input",accept:"image/png, image/jpeg, image/jpg, image/gif",onChange:function(e){return be(e)},style:{display:"none"}})]}),Object(T.jsxs)("div",{className:"profile_field",children:[Object(T.jsx)("span",{children:"First Name"}),Object(T.jsx)("input",{className:"profile_input ".concat(M&&"error_border"),type:"text",value:E,name:"firstName",onChange:ue,readOnly:!m}),M&&Object(T.jsx)("p",{className:"errorText",children:M})]}),Object(T.jsxs)("div",{className:"profile_field",children:[Object(T.jsx)("span",{children:"Last Name"}),Object(T.jsx)("input",{className:"profile_input ".concat(B&&"error_border"),type:"text",value:U,name:"lastName",onChange:ue,readOnly:!m}),B&&Object(T.jsx)("p",{className:"errorText",children:B})]}),Object(T.jsxs)("div",{className:"profile_field",children:[Object(T.jsx)("span",{children:"Email"}),Object(T.jsx)("input",{className:"profile_input",type:"email",value:t.email,readOnly:!0})]}),m&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"profile_field",children:[Object(T.jsx)("span",{children:"New Password"}),Object(T.jsx)("input",{className:"profile_input ".concat(q&&"error_border"),type:"password",name:"newPassword",onChange:ue}),$&&Object(T.jsx)("p",{className:"errorText",children:$})]}),q.length&&Object(T.jsxs)("div",{className:"profile_field",children:[Object(T.jsx)("span",{children:"Confirm new password"}),Object(T.jsx)("input",{className:"profile_input ".concat(ie&&"error_border"),type:"password",name:"confirmPassword",onChange:ue}),ie&&Object(T.jsx)("p",{className:"errorText",children:ie})]})]}),Object(T.jsx)("div",{className:"profile_actions",children:m?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("button",{className:"btn cancel_edit",onClick:function(e){e.preventDefault(),a("updateError",""),a("deleteError",""),C(t.first_name),A(""),z(t.last_name),H(""),_({link:"",file:null}),L(""),J(""),Y(""),ae(""),oe(""),O(!1)},children:"Cancel edit"}),s?Object(T.jsx)("button",{className:"updateLoading",children:Object(T.jsx)(F,{size:25,color:"white",loading:s})}):Object(T.jsx)("button",{className:"btn update_profile",onClick:function(e){if(e.preventDefault(),a("updateError",""),a("deleteError",""),function(){var e="This field cannot be empty!";if(!E)return A(e),!1;if(!U)return H(e),!1;if(q){if(!te)return oe(e),!1;if(q!==te)return Y("The passwords do not match"),oe("The passwords do not match"),!1}return!0}()){var r=new FormData;r.append("profilePic",v.file),r.append("firstName",E),r.append("lastName",U),r.append("newPassword",q),r.append("confirmPassword",te),n(t.token,r)}},children:"Update profile"})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("button",{className:"btn edit_profile",onClick:function(e){e.preventDefault(),O(!0)},children:"Edit profile"}),l?Object(T.jsx)("button",{className:"deleteLoading",children:Object(T.jsx)(F,{size:25,color:"white",loading:l})}):Object(T.jsx)("button",{className:"btn delete_profile",onClick:function(e){e.preventDefault(),o(t.token)},children:"Delete profile"})]})})]})})}))),oe=(a(219),a(220),a(221),Object(o.b)((function(e){return{user:e.auth}}),(function(e){return{deleteMovie:function(t,a){return e(E(t,a))}}}))((function(e){var t=e.user,a=e.deleteMovie,n=Object(d.g)();return Object(c.useEffect)((function(){t.token||n.push("/")})),Object(T.jsxs)("div",{className:"watchlist_page",children:[Object(T.jsx)("h3",{children:"My Watchlist"}),Object(T.jsx)("div",{className:"watchlist_container",children:t.watchlist.map((function(e){return Object(T.jsxs)("div",{className:"watchlist_movie",children:[Object(T.jsx)("div",{className:"movie_image",children:Object(T.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.poster_path)})}),Object(T.jsx)("div",{className:"movie_title",children:Object(T.jsx)(l.b,{to:"/movie/".concat(e.id),children:e.title})}),Object(T.jsx)("div",{className:"watchlist_actions",children:Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 delete_watchlist_movie",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:function(n){n.preventDefault(),a(t.token,e.id)},children:Object(T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]},e.id)}))})]})}))),le=Object(o.b)((function(e){return{state:{isLoading:e.stateVariables.homepageLoading,isSearchLoading:e.stateVariables.searchLoading,isMovieLoading:e.stateVariables.movieLoading,toRedirect:e.stateVariables.redirect,search:e.currentSearch}}}),(function(e){return{getAllMovies:function(){return e({type:x})},handleLiveSearch:function(t,a){return e(Z(t,a))}}}))((function(e){var t=e.state,a=e.getAllMovies,n=e.handleLiveSearch;return Object(c.useEffect)((function(){a()}),[]),Object(T.jsx)(l.a,{children:Object(T.jsxs)("div",{className:"App",id:"##",children:[Object(T.jsx)(R,{handleSearch:function(e){n(encodeURI(e.target.value),1)}}),t.isLoading?Object(T.jsx)(U,{color:"#daa520",loading:t.isLoading,size:100}):Object(T.jsxs)(T.Fragment,{children:[t.toRedirect?Object(T.jsx)(d.a,{to:"/"}):null,Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{path:"/",exact:!0,children:t.search.curr_search?Object(T.jsx)(Y,{}):Object(T.jsx)(te,{})}),Object(T.jsx)(d.b,{path:"/movie/:id",component:ne}),Object(T.jsx)(d.b,{path:"/auth",component:W}),Object(T.jsx)(d.b,{path:"/profile",component:ie}),Object(T.jsx)(d.b,{path:"/watchlist",component:oe}),Object(T.jsx)(d.b,{component:G})]}),t.isLoading||t.isMovieLoading||t.isSearchLoading?null:Object(T.jsx)(H,{})]})]})})})),de=a(25),ue=a(142),je=a(77),be=a(138),he=a.n(be),pe=a(139),me=a(140),Oe=a.n(me),xe=a(141),fe=a(16),ge={movies:[],currPage:0,totPages:0,curr_search:null},ve=a(62),_e={homepageLoading:!1,homepageError:!1,searchLoading:!1,searchError:!1,movieLoading:!1,movieError:!1,redirect:!1,authLoading:!1,authSuccess:!1,authError:"",updateSuccess:!1,updateLoading:!1,updateError:"",deleteSuccess:!1,deleteLoading:!1,deleteError:"",addToWatchlistLoading:!1},Ne={movieData:null},we={banner:[],nowPlaying:[],trending:[],topRated:[],upcoming:[]},ke={_id:"",profile_pic:"",first_name:"",last_name:"",email:"",watchlist:[],token:""},Le=Object(de.combineReducers)({currentSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return e=Object(fe.a)({},t.data);default:return e}},stateVariables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return e=Object(fe.a)(Object(fe.a)({},e),{},Object(ve.a)({},t.svType,t.val));default:return e}},movieData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return e=Object(fe.a)(Object(fe.a)({},e),{},{movieData:t.data});default:return e}},homepage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var a={banner:t.data[0].data.results,nowPlaying:t.data[1].data.results,trending:t.data[2].data.results,topRated:t.data[3].data.results,upcoming:t.data[4].data.results};return e=Object(fe.a)({},a);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return delete t.data.password,e=Object(fe.a)({},t.data);case v:return e={_id:"",profile_pic:"",first_name:"",last_name:"",email:"",watchlist:[],token:""};default:return e}}}),ye=a(5),Se=a(20),Ee=a.n(Se),Ce="3e4103174dec93f06df85aeacabc112c",Te="https://api.themoviedb.org/3",Re=function(e,t){return Ee.a.get("".concat(Te,"/search/movie?api_key=").concat(Ce,"&query=").concat(e,"&page=").concat(t))},De=function(){return Ee.a.get("".concat(Te,"/movie/popular?api_key=").concat(Ce,"&language=en-US&page=1"))},Me=function(e){return Ee.a.get("".concat(Te).concat(e,"?api_key=").concat(Ce))},Ae=function(e){return Ee.a.get("".concat(Te,"/movie/").concat(e,"?api_key=").concat(Ce,"&language=en-US"))},Ve="https://movie-pedia-backend.herokuapp.com",Pe=function(e,t){var a;return a="".concat(Ve,e?"/login":"/signup"),Ee.a.post(a,t)},Ue=function(e,t){return Ee.a.post("".concat(Ve,"/update"),t,{headers:Object(fe.a)(Object(fe.a)({},Ee.a.defaults.headers),{},{Authorization:"Bearer ".concat(e)})})},ze=function(e){return Ee.a.delete("".concat(Ve,"/delete"),{headers:Object(fe.a)(Object(fe.a)({},Ee.a.defaults.headers),{},{Authorization:"Bearer ".concat(e)})})},Ie=function(e,t){return Ee.a.post("".concat(Ve,"/addtowatchlist"),t,{headers:Object(fe.a)(Object(fe.a)({},Ee.a.defaults.headers),{},{Authorization:"Bearer ".concat(e)})})},Fe=function(e,t){return Ee.a.post("".concat(Ve,"/deletefromwatchlist"),t,{headers:Object(fe.a)(Object(fe.a)({},Ee.a.defaults.headers),{},{Authorization:"Bearer ".concat(e)})})},We=ce.a.mark(Ye),Be=ce.a.mark(Ke),He=ce.a.mark(et),Ge=ce.a.mark(tt),Qe=ce.a.mark(at),qe=ce.a.mark(nt),Je=ce.a.mark(rt),Xe=ce.a.mark(ct),Ze=ce.a.mark(st),$e=function(e){var t=e;return t.length>50&&(t="Something went wrong, please try again!"),t};function Ye(e){var t,a,n,r,c;return ce.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.searchQuery,a=e.pageNum,s.prev=1,t&&""!==t){s.next=14;break}return n={movies:[],curr_page:0,totPages:0,curr_search:null},s.next=6,Object(ye.d)($(n));case 6:return s.next=8,Object(ye.d)(C("redirect",!0));case 8:return s.next=10,Object(ye.c)(500);case 10:return s.next=12,Object(ye.d)(C("redirect",!1));case 12:s.next=24;break;case 14:return s.next=16,Object(ye.d)(C("searchLoading",!0));case 16:return s.next=18,Object(ye.b)(Re,t,a);case 18:return r=s.sent,c={movies:r.data.results,curr_page:a,totPages:r.data.total_pages,curr_search:t},s.next=22,Object(ye.d)($(c));case 22:return s.next=24,Object(ye.d)(C("searchLoading",!1));case 24:s.next=32;break;case 26:return s.prev=26,s.t0=s.catch(1),s.next=30,Object(ye.d)(C("searchLoading",!1));case 30:return s.next=32,Object(ye.d)(C("searchError",!0));case 32:case"end":return s.stop()}}),We,null,[[1,26]])}function Ke(){var e,t;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ye.d)(C("homepageLoading",!0));case 3:return e=["/movie/now_playing","/trending/movie/week","/movie/top_rated","/movie/upcoming"],a.t0=ye.a,a.next=7,Object(ye.b)(De);case 7:return a.t1=a.sent,a.next=10,Object(ye.b)(Me,e[0]);case 10:return a.t2=a.sent,a.next=13,Object(ye.b)(Me,e[1]);case 13:return a.t3=a.sent,a.next=16,Object(ye.b)(Me,e[2]);case 16:return a.t4=a.sent,a.next=19,Object(ye.b)(Me,e[3]);case 19:return a.t5=a.sent,a.t6=[a.t1,a.t2,a.t3,a.t4,a.t5],a.next=23,(0,a.t0)(a.t6);case 23:return t=a.sent,a.next=26,Object(ye.d)({type:f,data:t});case 26:return a.next=28,Object(ye.d)(C("homepageLoading",!1));case 28:a.next=36;break;case 30:return a.prev=30,a.t7=a.catch(0),a.next=34,Object(ye.d)(C("homepageLoading",!1));case 34:return a.next=36,Object(ye.d)(C("homepageError",!0));case 36:case"end":return a.stop()}}),Be,null,[[0,30]])}function et(e){var t,a;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(ye.d)(C("movieLoading",!0));case 4:return n.next=6,Object(ye.b)(Ae,t);case 6:return a=n.sent,n.next=9,Object(ye.d)(ae(a.data));case 9:return n.next=11,Object(ye.d)(C("movieLoading",!1));case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(1),n.next=17,Object(ye.d)(C("movieLoading",!1));case 17:return n.next=19,Object(ye.d)(C("movieError",!0));case 19:case"end":return n.stop()}}),He,null,[[1,13]])}function tt(e){var t,a,n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.isLogin,a=e.data,r.prev=1,r.next=4,Object(ye.d)(C("authLoading",!0));case 4:return r.next=6,Object(ye.b)(Pe,t,a);case 6:return n=r.sent,r.next=9,Object(ye.d)(S(n.data));case 9:return r.next=11,Object(ye.d)(C("authLoading",!1));case 11:return r.next=13,Object(ye.d)(C("authSuccess",!0));case 13:r.next=21;break;case 15:return r.prev=15,r.t0=r.catch(1),r.next=19,Object(ye.d)(C("authLoading",!1));case 19:return r.next=21,Object(ye.d)(C("authError",$e(r.t0.response.data)));case 21:case"end":return r.stop()}}),Ge,null,[[1,15]])}function at(e){var t,a,n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.token,a=e.data,r.prev=1,r.next=4,Object(ye.d)(C("updateLoading",!0));case 4:return r.next=6,Object(ye.b)(Ue,t,a);case 6:return n=r.sent,r.next=9,Object(ye.d)(S(n.data));case 9:return r.next=11,Object(ye.d)(C("updateSuccess",!0));case 11:return r.next=13,Object(ye.d)(C("updateLoading",!1));case 13:r.next=21;break;case 15:return r.prev=15,r.t0=r.catch(1),r.next=19,Object(ye.d)(C("updateLoading",!1));case 19:return r.next=21,Object(ye.d)(C("updateError",$e(r.t0.response.data)));case 21:case"end":return r.stop()}}),Qe,null,[[1,15]])}function nt(e){var t;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.token,a.prev=1,a.next=4,Object(ye.d)(C("deleteLoading",!0));case 4:return a.next=6,Object(ye.b)(ze,t);case 6:return a.next=8,Object(ye.d)(y());case 8:return a.next=10,Object(ye.d)(C("deleteLoading",!1));case 10:a.next=18;break;case 12:return a.prev=12,a.t0=a.catch(1),a.next=16,Object(ye.d)(C("deleteLoading",!1));case 16:return a.next=18,Object(ye.d)(C("deleteError",$e(a.t0.response.data)));case 18:case"end":return a.stop()}}),qe,null,[[1,12]])}function rt(e){var t,a,n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.token,a=e.data,r.prev=1,r.next=4,Object(ye.d)(C("addToWatchlistLoading",!0));case 4:return r.next=6,Object(ye.b)(Ie,t,a);case 6:return n=r.sent,r.next=9,Object(ye.d)(S(n.data));case 9:return r.next=11,Object(ye.d)(C("addToWatchlistLoading",!1));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(ye.d)(C("addToWatchlistLoading",!1));case 17:case"end":return r.stop()}}),Je,null,[[1,13]])}function ct(e){var t,a,n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.token,a=e.id,r.prev=1,r.next=4,Object(ye.d)(C("addToWatchlistLoading",!0));case 4:return r.next=6,Object(ye.b)(Fe,t,{id:a});case 6:return n=r.sent,r.next=9,Object(ye.d)(S(n.data));case 9:return r.next=11,Object(ye.d)(C("addToWatchlistLoading",!1));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(ye.d)(C("addToWatchlistLoading",!1));case 17:case"end":return r.stop()}}),Xe,null,[[1,13]])}function st(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.f)(h,Ye);case 2:return e.next=4,Object(ye.e)(x,Ke);case 4:return e.next=6,Object(ye.e)(m,et);case 6:return e.next=8,Object(ye.e)(g,tt);case 8:return e.next=10,Object(ye.f)(N,at);case 10:return e.next=12,Object(ye.f)(w,nt);case 12:return e.next=14,Object(ye.f)(k,rt);case 14:return e.next=16,Object(ye.f)(L,ct);case 16:case"end":return e.stop()}}),Ze)}var it={key:"root",storage:he.a,stateReconciler:Oe.a},ot=Object(ue.a)(),lt=Object(de.createStore)(Object(je.a)(it,Le),Object(xe.composeWithDevTools)(Object(de.applyMiddleware)(ot))),dt=Object(je.b)(lt);ot.run(st),i.a.render(Object(T.jsx)(o.a,{store:lt,children:Object(T.jsx)(pe.PersistGate,{loading:Object(T.jsx)(T.Fragment,{}),persistor:dt,children:Object(T.jsx)(le,{})})}),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.0f2113f4.chunk.js.map